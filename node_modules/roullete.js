const prompt = require("prompt-sync")();
let con = true;

const deposit = () => {
  while (true) {
    const depositAmount = prompt("Enter Deposit: ");
    const parsedeposit = parseFloat(depositAmount);
    
    if (depositAmount === "exit") {
      con = false;
    }
    if (isNaN(parsedeposit) || parsedeposit <= 0) {
      console.log("invalid input");
    } else {
      return parsedeposit;
    }
  }
};

const lineToBetOn = () => {
  while (con) {
    const line = prompt("Enter Line To Bet ON (1,3): ");
    const betOnLine = parseFloat(line);

    if (line === "exit") {
      con = false;
    }
    if (isNaN(betOnLine) || !(betOnLine >= 1 && betOnLine <= 3)) {
      console.log("invalid input for number of line");
    } else {
      return betOnLine;
    }
  }
};

const betting = () => {
  let balance = deposit();
  while (con) {
    const bet = prompt("Enter To Bet: ");
    const betAmount = parseFloat(bet);

    if (bet === "exit") {
      con = false;
    }

    if (isNaN(betAmount) || betAmount <= 0) {
      console.log("invalid input");
    } else if (betAmount > balance) {
      console.log("not enough deposit");
    } else if (bet === "1") {
      console.log(balance);
    } else {
      newAmount = balance - betAmount;
      console.log(newAmount);

      return newAmount;
    }
  }
};

// deposit();
// lineToBetOn();
betting();
